CREATE TABLE [Messages](
	[MessageID] [int] IDENTITY(1,1) NOT NULL,
  [MessageParentID] [int] NULL,
	[Body] [nvarchar](500) NOT NULL,
	[Date] [datetime] NOT NULL,
	[user] [nvarchar](max) NOT NULL, /*creator of message*/
 CONSTRAINT [PK_dbo.Messages] PRIMARY KEY CLUSTERED 
(
	[MessageID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

CREATE TABLE MessageRecipients(
	MessageRecipientID int IDENTITY(1,1) NOT NULL,
	MessageID int NOT NULL,
	Viewed bit NOT NULL,
	ViewedTimeStamp datetime NULL,
	SendTo nvarchar(max) NOT NULL CONSTRAINT [DF__MessageRe__SendT__282DF8C2]  DEFAULT (''),
 CONSTRAINT PK_dbo.MessageRecipients PRIMARY KEY CLUSTERED 
(
	MessageRecipientID ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
